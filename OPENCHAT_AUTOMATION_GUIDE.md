# 🎯 오픈채팅방 완전 자동화 가이드

> 기본 솔루션 + 오픈채팅봇 = 완전 자동화!

---

## 🎉 오픈채팅방만의 특별한 혜택

오픈채팅방을 사용 중이시라면 **공식 오픈채팅봇**으로 **완전 자동화**가 가능합니다!

### 차이점

| 일반 단톡방 | 오픈채팅방 |
|------------|-----------|
| 방장이 매일 링크 복사 → 붙여넣기 (1분) | **완전 자동** (0초!) |
| 수동 공유 | 봇이 자동 공유 |

---

## 📋 설치 순서

### 1단계: 기본 시스템 설치 (15분)
- **`INSTALLATION_GUIDE.md`** 파일을 먼저 완료하세요
- Apps Script 코드 추가
- 웹 앱 배포
- 트리거 설정

### 2단계: 웹 앱 URL 확인 (1분)
배포 완료 후 받은 URL을 확인:
```
https://script.google.com/macros/s/ABC123XYZ.../exec
```

**다이제스트 전용 링크** (오픈채팅봇에 사용할 링크):
```
https://script.google.com/macros/s/ABC123XYZ.../exec?page=digest
```

💡 **중요**: 이 링크는 **항상 오늘 날짜** 다이제스트를 보여줍니다!

### 3단계: 오픈채팅봇 설정 (3분)

#### 📱 모바일 카카오톡 앱에서 (PC 불가):

1. **오픈채팅방 입장**

2. **우측 상단 ≡ 메뉴** 클릭

3. **"오픈채팅봇 활성화"** 선택
   - 처음이면 "활성화" 버튼 클릭
   - 이미 활성화되어 있다면 바로 다음 단계

4. **"설정"** 버튼 클릭

5. **"공지 메시지"** 탭 선택

6. **"+" 버튼** (추가) 클릭

7. **메시지 작성** (2가지 옵션 중 선택):

**옵션 A: 링크만 전송 (간단)**
   ```
   📚 오늘의 스터디 다이제스트가 준비되었습니다!

   오늘 조원들이 무엇을 공부했는지 확인해보세요 👇

   🔗 [여기에 웹앱 URL]?page=digest

   ✅ 출석 현황 확인
   📖 공부 내용 요약 보기
   💬 댓글로 피드백 남기기

   💡 서로의 공부에 관심과 격려를 보내주세요!
   ```

**옵션 B: 복사 페이지 링크 (추천! 카톡에 바로 내용 표시) ⭐**
   ```
   📚 오늘의 스터디 다이제스트가 준비되었습니다!

   📋 텍스트로 보기 (카톡 붙여넣기용)
   아래 링크 클릭 → 자동 복사 → 카톡에 붙여넣기
   🔗 [여기에 웹앱 URL]?page=copy

   🎨 자세히 보기 (웹페이지)
   🔗 [여기에 웹앱 URL]?page=digest

   💡 복사 페이지를 클릭하면 자동으로 복사됩니다!
   카톡에 붙여넣으면 전체 내용이 표시돼요 ✨
   ```

8. **시간 설정**:
   - 시간: 오후 8시 30분 (또는 원하는 시간)
   - 반복: 매일

9. **저장** 클릭

---

## 🎯 동작 방식

### 매일 자동 실행 흐름

```
오후 8:00 - Apps Script 트리거 실행
           └─→ 조원 폴더 스캔
           └─→ 공부 내용 추출 & 요약
           └─→ 다이제스트 JSON 생성
           └─→ 웹페이지 준비 완료

오후 8:30 - 오픈채팅봇 자동 실행
           └─→ 설정된 메시지 자동 전송
           └─→ 조원들 자동으로 알림 받음
           └─→ 링크 클릭하면 오늘 다이제스트 확인

방장 수고: 0초! 🎉
```

---

## 📝 메시지 템플릿 예시

### 템플릿 1: 심플
```
📚 오늘의 스터디 다이제스트

🔗 https://...?page=digest

서로의 공부를 확인하고 피드백해주세요!
```

### 템플릿 2: 상세
```
📚 오늘의 스터디 다이제스트가 준비되었습니다!

오늘도 고생 많으셨습니다 👏
조원들의 공부 내용을 확인해보세요!

🔗 다이제스트 확인하기
https://...?page=digest

✨ 할 수 있는 것들:
• 출석 현황 한눈에 보기
• 공부 주제 및 요약 읽기
• 파일 다운로드 (클릭!)
• 카톡 공유 버튼으로 재공유

💡 Tip: 댓글로 질문하거나 피드백 남겨주세요!
```

### 템플릿 3: 동기부여형
```
🔥 오늘도 열공하셨나요?

📚 오늘의 스터디 다이제스트
👉 https://...?page=digest

🏆 함께 공부하니 더욱 힘이 납니다!
서로의 공부를 확인하고 응원 한마디 남겨주세요 💪

#스터디 #한의사 #매일성장
```

---

## 🔧 고급 설정

### 여러 시간대에 알림 보내기

오픈채팅봇에서 여러 공지 메시지를 추가할 수 있습니다:

**아침 알림** (오전 7시):
```
🌅 좋은 아침입니다!

어제 조원들의 공부 내용 확인하셨나요?
아직 안 보셨다면 지금 확인해보세요!

🔗 https://...?page=digest
```

**저녁 알림** (오후 8시 30분):
```
📚 오늘의 스터디 다이제스트가 준비되었습니다!
[상세 내용]
```

---

## 🎨 추가 기능: Q&A 자동응답

오픈채팅봇의 Q&A 기능으로 자주 묻는 질문을 자동화할 수 있습니다:

### 설정 방법:
1. 오픈채팅봇 설정 → **"질문답변"** 탭
2. 질문/답변 추가

### 예시:

**질문**: `/다이제스트` 또는 `/공부`
**답변**:
```
📚 오늘의 스터디 다이제스트
🔗 https://...?page=digest

매일 저녁 8시 30분에 자동으로 공지됩니다!
```

**질문**: `/출석` 또는 `/출석표`
**답변**:
```
📊 이번 달 출석표
🔗 https://...?page=attendance

실시간으로 업데이트됩니다!
```

**질문**: `/규칙` 또는 `/rules`
**답변**:
```
📋 스터디 규칙

✅ 출석: 날짜 폴더에 공부 자료 업로드
🏖️ 오프: OFF.md 파일로 선언 (주 3회)
🏝️ 장기오프: 구글폼으로 사전 신청
❌ 결석: 미제출 (3회 경고, 4회 벌칙)

자세한 내용:
🔗 https://forms.gle/...
```

---

## ✅ 테스트 방법

### 즉시 테스트:
1. 오픈채팅봇 설정에서 방금 만든 공지 메시지 선택
2. **"지금 보내기"** 버튼 클릭
3. 채팅방에 메시지가 바로 전송됨
4. 링크 클릭해서 다이제스트 페이지 확인

---

## 📊 운영 팁

### 1. 최적 시간 설정
```
오후 8:00 - Apps Script 다이제스트 생성
오후 8:30 - 오픈채팅봇 알림 (30분 여유)
```

### 2. 주말 제외 옵션
오픈채팅봇은 매일 전송됩니다. 주말 제외는 불가능하므로:
- 주말에도 다이제스트는 생성됨
- 알림은 매일 가지만, 주말은 공부 안 한 사람 많으므로 자연스럽게 "오프" 표시

### 3. 메시지 수정
언제든지 오픈채팅봇 설정에서 메시지 내용 수정 가능:
- 메뉴 → 오픈채팅봇 → 설정 → 공지 메시지 → 수정

---

## 🎉 최종 결과

### Before (일반 단톡방):
```
방장: 매일 저녁 다이제스트 페이지 방문
      → "전체 공유" 버튼 클릭
      → 카톡에 붙여넣기
시간: 1일 1분
```

### After (오픈채팅방):
```
방장: 아무것도 안 함!
봇: 매일 저녁 8시 30분 자동 전송
시간: 0초! 🎉
```

---

## 🐛 문제 해결

### 문제 1: "오픈채팅봇 활성화 버튼이 안 보여요"
**원인**: PC 버전 사용 중
**해결**: 📱 모바일 카카오톡 앱 사용 필수

### 문제 2: "링크를 클릭해도 아무것도 안 떠요"
**원인**: 웹 앱 배포 문제
**해결**:
1. Apps Script → 배포 → 배포 관리
2. 액세스 권한 확인: "링크가 있는 모든 사용자"
3. 필요시 재배포

### 문제 3: "봇 메시지가 안 보내져요"
**원인**: 시간 설정 또는 활성화 문제
**해결**:
1. 오픈채팅봇 설정 → 공지 메시지 → 저장 확인
2. "지금 보내기"로 즉시 테스트
3. 시간 설정 재확인

### 문제 4: "다이제스트 내용이 비어있어요"
**원인**: Apps Script 트리거 미실행
**해결**:
1. Apps Script → 트리거 → 실행 기록 확인
2. 수동 실행: `일일다이제스트생성()` 함수 실행
3. 로그 확인

---

## 📱 스크린샷 예시

### 오픈채팅봇 자동 메시지:
```
┌─────────────────────────────┐
│ 🤖 스터디봇 [봇]            │
│ 오후 8:30                   │
├─────────────────────────────┤
│ 📚 오늘의 스터디 다이제스트│
│ 가 준비되었습니다!          │
│                             │
│ 오늘 조원들이 무엇을 공부  │
│ 했는지 확인해보세요 👇     │
│                             │
│ 🔗 [다이제스트 바로가기]   │
│                             │
│ 💡 서로의 공부에 관심과    │
│ 격려를 보내주세요!          │
└─────────────────────────────┘
```

---

## 🎊 축하합니다!

이제 **완전 자동화** 시스템이 완성되었습니다!

### ✨ 달성한 것:
- ✅ 출석체크 자동화 유지
- ✅ 공부 내용 자동 수집 & 요약
- ✅ 웹페이지 자동 생성
- ✅ 카톡 자동 알림
- ✅ **방장 수고 0초!**

### 🎯 효과:
- 🔥 지식 교류 활성화
- 💬 실시간 피드백
- 📚 학습 자극 증가
- ⏱️ 시간 절약

**"진정한 완전 자동화를 경험하세요!" 🚀**

---

## Sources
- [카카오톡 오픈채팅방 만들기 및 봇 설정](https://www.ajd.co.kr/contents/basic-tip/detail/카카오톡_오픈채팅방_만들기_삭제_프로필_방장봇_설정_간단_정리-30350)
- [카카오톡 오픈채팅 봇 설정 방법](https://jehaonline.com/entry/카카오톡-오픈채팅-봇-방장)
- [카톡 오픈채팅봇 활성화 방법](https://b.newmunit.com/entry/카톡-오픈채팅봇-활성화하는-방법-사용하기)
- [카카오 톡 오픈 채팅 자동 공지 방법](https://dos.1icarus.com/entry/카카오-톡-오픈-채팅-자동-공지-방법방장-봇)
