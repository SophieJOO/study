# 📋 카톡 메시지에 바로 내용 표시하기

> 링크가 아니라 카톡 메시지 자체에 다이제스트 내용을 바로 보여주는 방법

---

## 🎯 목표

**Before (링크 방식)**:
```
📚 오늘의 스터디 다이제스트
🔗 [링크] ← 클릭해야 내용 확인
```

**After (텍스트 방식)**:
```
📚 오늘의 스터디 다이제스트 (2025-11-22)

✅ 센트룸
   📖 한방병리학 - 담음의 병리
   담음의 형성 원인과 병리 기전에 대해 공부...
   📎 담음병리.md, 병리도해.png

✅ 길
   📖 본초학 - 해표약
   해표약의 분류와 각 약재의 특성 비교...
   📎 해표약정리.pdf

━━━━━━━━━━━━━━━━
📊 출석: 7명 | 오프: 2명

🔗 자세히 보기: https://...
```

**카톡에서 바로 내용 확인 가능!** ✨

---

## 🚀 방법: 자동 복사 페이지

### 작동 원리

```
┌──────────────────────────────┐
│ 1️⃣ Apps Script              │
│    매일 저녁 8시 자동 실행   │
│    → 다이제스트 생성          │
└──────────────────────────────┘
            ↓
┌──────────────────────────────┐
│ 2️⃣ 방장/담당자              │
│    복사 전용 페이지 방문     │
│    → 자동으로 복사됨!        │
│    소요시간: 5초             │
└──────────────────────────────┘
            ↓
┌──────────────────────────────┐
│ 3️⃣ 카카오톡                 │
│    붙여넣기 (Ctrl+V)         │
│    → 전체 내용이 표시됨!     │
└──────────────────────────────┘
```

---

## 📱 사용 방법

### 매일 루틴 (5초 소요)

**1단계: 복사 전용 페이지 방문**
```
https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec?page=copy
```

**2단계: 자동으로 복사됨!**
- 페이지를 열면 자동으로 클립보드에 복사
- "✅ 복사 완료!" 메시지 확인

**3단계: 카톡에 붙여넣기**
- 카카오톡 열기
- 스터디 채팅방에서 붙여넣기 (Ctrl+V 또는 길게 누르기)
- 전송!

**끝!** 🎉

---

## 🎨 카톡 메시지 예시

### 실제 전송되는 메시지:

```
📚 오늘의 스터디 다이제스트 (2025-11-22)

✅ 센트룸
   📖 한방병리학 - 담음의 병리
   담음의 형성 원인과 병리 기전에 대해 공부. 비위의 운화 실조가 수습 대사 장애를 일으켜 담음이 생성됨. 담음이 다양한 장부에...
   📎 담음병리.md, 병리도해.png

✅ 길
   📖 본초학 - 해표약
   해표약의 분류와 각 약재의 특성 비교. 발산풍한약과 발산풍열약의 차이점, 주요 약재의 효능과 주치증 암기...
   📎 해표약정리.pdf

✅ what
   📖 방제학 - 보익제
   보익제의 구성과 효능 학습
   📎 보익제노트.md, 약재사진.jpg

✅ 머리 빗는 네오
   📖 침구학 - 경락 유주
   족태양방광경의 유주와 주요 혈위 정리
   📎 경락도해.png

━━━━━━━━━━━━━━━━
📊 출석: 7명 | 오프: 2명 | 결석: 0명

🔗 자세히 보기: https://script.google.com/...

💡 서로의 공부를 확인하고 댓글로 피드백해주세요!
```

**링크 클릭 없이 바로 내용 확인!** ✨

---

## 💡 사용 시나리오

### 시나리오 1: 오픈채팅방 + 자동 복사 (최고! 🏆)

**매일 저녁 8시**:
- 🤖 Apps Script 자동 실행

**매일 저녁 8시 30분**:
- 🤖 오픈채팅봇이 복사 페이지 링크 전송
  ```
  📋 오늘의 다이제스트가 준비되었습니다!

  복사 페이지: [링크]
  (자동 복사되니 카톡에 바로 붙여넣으세요)
  ```

**방장 (5초)**:
1. 복사 페이지 링크 클릭
2. 자동 복사됨
3. 카톡에 붙여넣기

**장점**:
- 조원들은 카톡에서 바로 내용 확인
- 링크 클릭 불필요
- 자세한 내용 보고 싶으면 링크 클릭

---

### 시나리오 2: 일반 단톡방 + 자동 복사

**매일 저녁 8시 이후**:
1. 방장이 복사 페이지 방문
2. 자동으로 복사됨
3. 카톡에 붙여넣기

**장점**:
- 원클릭보다 더 간편 (페이지 방문만 하면 자동 복사)
- 카톡에 전체 내용 표시

---

## 🔧 설정 방법

### 1단계: 기본 시스템 설치

**이미 완료했다면 건너뛰기!**

- `INSTALLATION_GUIDE.md` 따라서 설치
- Apps Script 코드 추가
- 웹 앱 배포
- 트리거 설정

### 2단계: 복사 페이지 HTML 추가

Apps Script 편집기에서:

1. 좌측 메뉴 **+** 버튼
2. **HTML 파일** 선택
3. 파일명: `copy-page`
4. `copy-page.html` 파일 내용 복사 → 붙여넣기
5. 저장

### 3단계: digest-functions.gs 업데이트

`digest-functions.gs` 파일의 `doGet()` 함수에 복사 페이지 라우팅 추가:

```javascript
// 복사 전용 페이지
if (page === 'copy') {
  return HtmlService.createHtmlOutputFromFile('copy-page')
    .setTitle('카톡 복사 전용')
    .setXFrameOptionsMode(HtmlService.XFrameOptionsMode.ALLOWALL);
}
```

(이미 업데이트된 `digest-functions.gs` 파일에는 포함되어 있음)

### 4단계: 재배포

Apps Script 편집기에서:

1. **배포 > 배포 관리**
2. **편집** (연필 아이콘)
3. **버전: 새 버전**
4. **배포**

### 5단계: URL 확인

복사 전용 페이지 URL:
```
https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec?page=copy
```

이 URL을 북마크하거나 메모해두세요!

---

## 🤖 오픈채팅봇 설정 (선택 사항)

### 옵션 A: 복사 페이지 링크 전송

오픈채팅봇 메시지:
```
📋 오늘의 스터디 다이제스트

아래 링크를 클릭하면 자동으로 복사됩니다!
카톡에 바로 붙여넣기만 하세요 👇

🔗 https://...?page=copy

💡 붙여넣으면 전체 내용이 표시됩니다!
```

**장점**:
- 한 번 클릭으로 복사
- 카톡에 전체 내용 표시

### 옵션 B: 양쪽 링크 모두 제공

```
📚 오늘의 스터디 다이제스트

📋 텍스트로 보기 (카톡 붙여넣기)
🔗 https://...?page=copy

🎨 웹페이지로 보기 (자세히)
🔗 https://...?page=digest
```

**장점**:
- 선택의 폭이 넓음
- 텍스트 선호자 / 웹페이지 선호자 모두 만족

---

## 📊 비교표

| 방식 | 소요시간 | 카톡 표시 | 링크 클릭 | 추천도 |
|------|----------|-----------|-----------|--------|
| **자동 복사 페이지** | 5초 | **전체 내용** | 불필요 | ⭐⭐⭐⭐⭐ |
| 원클릭 복사 (기존) | 10초 | 전체 내용 | 필요 | ⭐⭐⭐⭐ |
| 링크만 전송 | 0초 | 링크만 | 필요 | ⭐⭐⭐ |

---

## 💡 팁

### 팁 1: 북마크 활용

**스마트폰**:
1. 복사 페이지를 홈 화면에 추가
2. 매일 한 번 탭 → 자동 복사 → 카톡 붙여넣기

**PC**:
1. 브라우저 북마크바에 추가
2. 매일 한 번 클릭 → 자동 복사 → 카톡 붙여넣기

### 팁 2: 단축 URL 사용

긴 URL이 불편하다면:
- bit.ly, short.io 등으로 단축
- 예: `https://bit.ly/study-copy`

### 팁 3: 여러 명이 돌아가며

방장 한 사람이 아니라 여러 명이 돌아가며:
- 월요일: A님
- 화요일: B님
- 수요일: C님
- ...

부담 분산!

---

## 🎯 최종 워크플로우

### 완벽한 자동화 (오픈채팅방)

```
┌─────────────────────────────────────┐
│ 오후 8:00 - Apps Script 자동 실행   │
│            다이제스트 생성           │
└─────────────────────────────────────┘
            ↓
┌─────────────────────────────────────┐
│ 오후 8:30 - 오픈채팅봇 자동 전송    │
│            복사 페이지 링크          │
└─────────────────────────────────────┘
            ↓
┌─────────────────────────────────────┐
│ 방장 - 링크 클릭 (5초)              │
│       자동 복사 → 카톡 붙여넣기     │
└─────────────────────────────────────┘
            ↓
┌─────────────────────────────────────┐
│ 조원들 - 카톡에서 바로 내용 확인! ✨ │
└─────────────────────────────────────┘
```

**총 소요시간: 방장 5초** (자동화 99%)

---

## ❓ FAQ

### Q1. 복사 페이지가 안 열려요
**A**: 웹 앱 재배포 필요
1. Apps Script → 배포 → 배포 관리
2. 새 버전으로 배포

### Q2. 자동 복사가 안 돼요
**A**: 브라우저 권한 문제일 수 있음
- 크롬/사파리/엣지 권장
- 복사 실패 시 "다시 복사하기" 버튼 클릭

### Q3. 카톡에 붙여넣으면 깨져요
**A**: 일반 텍스트로 붙여넣기
- PC: Ctrl+Shift+V (서식 없이 붙여넣기)
- 모바일: 길게 누르기 → 붙여넣기

### Q4. 내용이 너무 길어요
**A**: 요약 길이 조정 가능
- `copy-page.html`에서 100자 → 원하는 길이로 수정
- 또는 파일 목록 제거

---

## 🎉 완성!

이제 **링크가 아니라 실제 내용**이 카톡에 바로 표시됩니다!

### ✨ 달성한 것:
- ✅ 카톡 메시지에 전체 내용 표시
- ✅ 링크 클릭 불필요
- ✅ 자동 복사 (5초)
- ✅ 조원들의 지식 교류 활성화

**"카톡에서 바로 확인하는 스터디 다이제스트!" 🎊**
