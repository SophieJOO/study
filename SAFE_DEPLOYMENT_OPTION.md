# 가장 안전한 배포 옵션

## 🎯 옵션 선택

당신의 상황에 맞는 옵션을 선택하세요:

---

## 옵션 A: 새 기능만 추가 (OFF.md 계속 사용) ⭐⭐⭐⭐⭐

**이 방법을 선택하면:**
- ✅ 기존 시스템 100% 그대로
- ✅ OFF.md 계속 작동
- ✅ 주간 집계 추가
- ✅ AI 다이제스트 추가
- ✅ 위험도 0%

**필요한 작업:**
1. 현재 푸시된 변경사항 중 일부만 적용
2. `apps script code.gs` 롤백 (OFF.md 체크 복원)
3. 새 파일만 추가

**실행 방법:**
```bash
# Git에서 이전 버전의 apps script code.gs 가져오기
git checkout 8276cba -- "apps script code.gs"
git checkout 8276cba -- "digest-functions.gs"

# 새 기능만 유지
# weekly-attendance.gs ✅
# gemini-ai.gs ✅

# 커밋
git add .
git commit -m "Add weekly attendance and AI features (keep OFF.md system)"
git push
```

---

## 옵션 B: 테스트 환경에서 먼저 검증 ⭐⭐⭐⭐⭐

**이 방법을 선택하면:**
- ✅ 원본 시스템 건드리지 않음
- ✅ 복사본에서 모든 새 기능 테스트
- ✅ 1-2주 병렬 운영
- ✅ 검증 후 원본 적용

**실행 방법:**
1. 구글 스프레드시트 복사
2. "스터디 출석 TEST" 이름 변경
3. 테스트 시트에 새 코드 모두 적용
4. 1-2주 검증
5. 문제 없으면 원본에 적용

**장점:**
- 원본 시스템 완전 안전
- 충분한 검증 시간
- 문제 발생 시 폐기 가능

---

## 옵션 C: 현재 상태 그대로 사용 (OFF.md 폐지) ⭐⭐⭐⭐

**이 방법을 선택하면:**
- ✅ 현재 푸시된 코드 그대로 사용
- ✅ OFF.md 폐지
- ✅ 주간 집계 시작
- ✅ AI 다이제스트 시작
- ⚠️ 조원들에게 OFF.md 사용 중단 공지 필요

**실행 방법:**
1. 조원들에게 공지: "OFF.md 더이상 사용 안함"
2. 장기오프만 사용하도록 안내
3. Apps Script에 새 코드 복사
4. Gemini API 키 설정
5. 테스트 실행

**주의사항:**
- 기존 데이터는 안전 (100%)
- 앞으로 OFF.md 올려도 작동 안함
- 장기오프는 정상 작동

---

## 옵션 D: 1단계씩 천천히 ⭐⭐⭐⭐⭐

**이 방법을 선택하면:**
- ✅ 단계별 검증
- ✅ 문제 발생 시 즉시 중단 가능
- ✅ 가장 신중한 방법

**실행 방법:**

### 1단계 (이번 주): 백업 + 새 기능 추가만
```
✅ 스프레드시트 백업
✅ weekly-attendance.gs 추가
✅ gemini-ai.gs 추가
✅ 수동 실행으로 테스트
❌ apps script code.gs 변경 안함 (OFF.md 유지)
```

### 2단계 (다음 주): 검증
```
✅ 주간 집계 결과 확인
✅ AI 다이제스트 품질 확인
✅ 기존 출석 체크와 비교
```

### 3단계 (2주 후): 결정
```
✅ OFF.md 폐지 여부 결정
✅ 필요하면 apps script code.gs 교체
✅ 또는 OFF.md 계속 유지
```

---

## 💡 제 추천: **옵션 D** (1단계씩 천천히)

**이유:**
1. 가장 안전
2. 언제든 중단 가능
3. 충분한 검증 시간
4. OFF.md 유지/폐지 나중에 결정

**지금 바로 할 일:**
1. 스프레드시트 백업 (복사본 생성)
2. `weekly-attendance.gs`만 추가
3. `이번달주간집계()` 수동 실행
4. 결과 확인

**1주일 후:**
1. 주간 집계 정확한지 확인
2. `gemini-ai.gs` 추가
3. AI 다이제스트 테스트

**2주일 후:**
1. 모든 게 정상이면
2. OFF.md 폐지 여부 결정

---

## 🚨 롤백 방법 (문제 발생 시)

### Git 롤백
```bash
# 전체 롤백 (v2.2로)
git checkout 8276cba

# 특정 파일만 롤백
git checkout 8276cba -- "apps script code.gs"
```

### Apps Script 롤백
```
1. Apps Script 편집기
2. 파일 > 버전 기록
3. 이전 버전 선택
4. 복원
```

### 데이터 롤백
```
1. 백업 스프레드시트 열기
2. 데이터 복사
3. 원본에 붙여넣기
```

---

## ❓ 어떤 옵션을 선택하시겠어요?

**추천 순서:**
1. 🥇 옵션 D (1단계씩) - 가장 안전
2. 🥈 옵션 B (테스트 환경) - 완전 독립
3. 🥉 옵션 A (새 기능만) - OFF.md 유지
4. 옵션 C (현재 상태) - OFF.md 폐지

**각 옵션별 상세 실행 가이드를 제공할 수 있습니다!**
